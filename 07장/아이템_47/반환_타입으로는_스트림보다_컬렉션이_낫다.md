# [반환 타입으로는 스트림보다 컬렉션이 낫다]
자바 7까지 원소 시퀀스, 즉 일련의 원소를 반환하는 메소드는 수없이 많다. (컬렉션 인터페이스인 Collection, Set, List/ Iterable/ Array)  
하지만 Java 8 이후부터는 스트림이 도입되면서 컬렉션과 스트림 중 어떤 것을 반환할 것인지 결정하기가 쉽지 않아졌다.  

스트림은 반복(for-each)을 지원하지 않는다. Stream 인터페이스가 Iterable 인터페이스의 추상메서드를 전부 포함하면서 그가 정의한 방식대로 동작하면서도 Iterable을 확장(extend)하지 않았기 때문이다. 

객체 시퀀스를 반환하는 메서드를 작성하는데  
* 이 메서드가 오직 스트림 파이프라인에서만 쓰일 걸 안다면 스트림을 반환하게 한다.  
* 반환된 객체들이 반복문에서 쓰일 걸 안다면 Iterable을 반환한다.  

## 원소 시퀀스를 반환하는 공개 API의 반환 타입에는 Collection이나 그 하위타입을 쓰자.
위 두가지 경우가 아닌 공개 API를 작성할 때는 스트림 파이프라인을 사용하는 사람, 반복문에서 쓰려는 사람 모두를 고려해야한다.  
그럴 때는 Collection이나 그 하위 타입을 쓰는게 일반적으로 최선이다. Arrays 역시 Arrays.asList와 Stream.of 메서드로 반복과 스트림을 지원할 수 있다.  
반환하는 시퀀스의 크기가 메모리에 올려도 괜찮을만큼 작다면 ArrayList나 HashSet 같은 표준 컬렉션 구현체를 반환하는 것이 좋다. 그러나 단지 컬렉션을 반환한다는
이유로 덩치 큰 시퀀스를 메모리에 올려서는 안된다.  

## 표현을 간결하게 할 수 있다면 전용 컬렉션을 구현하는 방안을 검토하자.
반환할 시퀀스가 크지만 표현을 간결하게 할 수 있다면 전용 컬렉션을 구현하는 방안을 검토한다. 

## 정리
